<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <link rel="icon" href="https://raw.githubusercontent.com/Toperlock/sing-box-subscribe/main/public/favicon.ico" type="image/x-icon">
    <title>ç”Ÿæˆsing-boxé…ç½®</title>
    <style>
        body {
            display: flex;
            flex-direction: column; /* å‚ç›´æ’åˆ— */
            align-items: center; /* æ°´å¹³å±…ä¸­å¯¹é½ */
            max-width: 100%; /* è°ƒæ•´å†…å®¹æœ€å¤§å®½åº¦ */
            /* transform: scale(1.9);  å°†å†…å®¹æ”¾å¤§190% */
            justify-content: center;
            height: 100vh; /* ä½¿å†…å®¹åœ¨å‚ç›´æ–¹å‘ä¸Šå±…ä¸­ */
            margin: 0; /* å»æ‰é»˜è®¤çš„é¡µé¢è¾¹è· */
            font-family: Arial, sans-serif; /* å¯é€‰çš„å­—ä½“ */
            background-color: #f2f2f2;
        }
        .container {
            display: flex;
            flex-direction: row; /* æ°´å¹³æ’åˆ— */
            align-items: center; /* æ°´å¹³å±…ä¸­å¯¹é½ */
        }
        /*
        .left-box {
            flex: 1;
            padding: 10px;
        }
        */
        .right-box {
            flex: 2;
            padding: 20px;
            max-width: 100%; /* è®¾ç½®æœ€å¤§å®½åº¦ä¸º100% */
            box-sizing: border-box; /* è®©paddingä¸å½±å“æœ€å¤§å®½åº¦ */
        }
        /* åª’ä½“æŸ¥è¯¢ï¼šå±å¹•å®½åº¦å°äº768pxæ—¶åº”ç”¨ä¸‹é¢çš„æ ·å¼ */
        @media screen and (max-width: 768px) {
            .container {
                flex-direction: column; /* å‚ç›´æ’åˆ— */
            }
            .right-box {
                width: 100%; /* å¹³åˆ†å±å¹•å®½åº¦ */
            }
            .config-content {
                white-space: normal; /* åœ¨å°å±å¹•ä¸‹å…è®¸å†…å®¹æ¢è¡Œ */
                margin-left: 20px; /* ä¸å·¦è¾¹éš”å¼€20pxï¼Œæ ¹æ®éœ€è¦è°ƒæ•´è·ç¦» */
                margin-right: 20px; /* ä¸å³è¾¹éš”å¼€20pxï¼Œæ ¹æ®éœ€è¦è°ƒæ•´è·ç¦» */
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!--
        <div class="left-box">
            <h1>Providers JSON æ¨¡æ¿</h1>
            <form id="providers-form" method="POST" action="/update_providers">
                <textarea name="providers_data" rows="10" cols="40" style="width: 400px; height: 400px;">{{ providers_data | safe }}</textarea>
                <br>
            </form>
        </div>
        -->
        <div class="right-box">
            <h1>Edit TEMP_JSON_DATA</h1>
            <form id="temp-json-form" method="POST" action="/edit_temp_json">
                <textarea name="temp_json_data" rows="10" cols="40" style="width: 400px; height: 400px;">{{ temp_json_data | default('') }}</textarea>
                <br>
                <input type="submit" value="save">
            </form>
            <button onclick="toggleLanguage()">Switch Language</button>
            <div class="form-container" style="display: flex; align-items: center;">
                <form method="POST" action="/generate_config" style="display: flex; align-items: center;">
                    <select name="template_index">
                        {% for option in template_options %}
                        <option value="{{ loop.index - 1 }}">{{ option }}</option>
                        {% endfor %}
                    </select>
                    <input type="submit" value="Select and Generate">
                </form>
            </div>
        </div>
        <div class="config-content">
            <h3 style="margin: 8px 0; font-size: 14px;"><a href="https://github.com/Toperlock/sing-box-subscribe#%E9%A1%B5%E9%9D%A2%E6%93%8D%E4%BD%9C%E6%AD%A5%E9%AA%A4" target="_blank" rel="noopener noreferrer">è¯·åŠ¡å¿…ï¼šç‚¹å‡»æŸ¥çœ‹æ“ä½œè¯´æ˜ï¼ï¼ï¼</a></h3>
            <h3 style="margin: 8px 0; font-size: 14px;"><a href="https://github.com/Toperlock/sing-box-subscribe/tree/main/instructions#steps-for-page-manipulation" target="_blank" rel="noopener noreferrer">Please be sure to: Click to view operation instructions!!!</a></h3>
            <h3 style="margin: 8px 0; font-size: 14px;"><a href="https://github.com/Toperlock/sing-box-subscribe#providersjson%E6%96%87%E4%BB%B6" target="_blank" rel="noopener noreferrer">è¯·åŠ¡å¿…ï¼šç‚¹å‡»æŸ¥çœ‹å‚æ•°å«ä¹‰</a></h3>
            <h3 style="margin: 8px 0; font-size: 14px;"><a href="https://github.com/Toperlock/sing-box-subscribe/tree/main/instructions#providersjson-file" target="_blank" rel="noopener noreferrer">Please be sure to: Click to view parameter meanings.</a></h3>
            <h3 style="margin: 8px 0; font-size: 14px;" data-translate="1" data-color="red"><span style="font-weight: bold; color: red; margin: 5px 0; font-size: 14px;">2024-1-10ï¼šæˆ‘çš„vercelå…è´¹å¥—é¤å®¹é‡è¦è¢«ä½ ä»¬å æ»¡äº†ï¼Œæœ‰githubè´¦å·çš„è¯·forkæœ¬é¡¹ç›®ä½¿ç”¨è‡ªå·±æ­å»ºçš„è®¢é˜…è½¬æ¢ç½‘ç«™ï¼Œä¸ç„¶åç»­æˆ‘ä¼šå†³å®šå…³é—­æ­¤ç½‘ç«™</span></h3>
            <h3 style="margin: 8px 0; font-size: 14px;" data-translate="2"><span style="font-weight: bold; color: black; margin: 5px 0; font-size: 14px;">å‰æï¼šåœ¨æ­¤ç½‘é¡µæ­£ç¡®å¡«å†™è®¢é˜…é“¾æ¥ï¼Œç”Ÿæˆé…ç½®å¤±è´¥æ˜¯å› ä¸ºåŒä¸€æ—¶é—´åˆ«äººä¹Ÿåœ¨ç”Ÿæˆé…ç½®ï¼Œå¯¼è‡´ä½ å¡«å†™çš„å†…å®¹è¢«å¤åŸã€‚å»ºè®®ä½¿ç”¨/config/URLçš„å½¢å¼</span></h3>
            <h3 style="margin: 8px 0; font-size: 14px;" data-translate="3" data-color="red"><span style="font-weight: bold; color: red; margin: 5px 0; font-size: 14px;">â€œgroups_rule_set_tun.jsonâ€æ¨¡æ¿æ˜¯ç»™ sing-box 1.8.0+ ä½¿ç”¨çš„ã€‚</span></h3>
            <h3 style="margin: 8px 0; font-size: 14px;" data-translate="4"><span style="font-weight: bold; color: black; margin: 5px 0; font-size: 14px;">å¡«å†™è®¢é˜…åœ°å€åœ¨å¼•å· â€œâ€ å†…ï¼Œæ³¨æ„è®¢é˜…åœ°å€æœ«å°¾ä¸è¦æœ‰æ¢è¡Œï¼Œè¿™å¾ˆå®¹æ˜“è¢«å¿½è§†ï¼ï¼ï¼ï¼ˆä¸ºä»€ä¹ˆå¾ˆå–œæ¬¢å¡«åˆ°enableä¸ºfalseçš„urlé‡Œé¢ï¼Ÿwhyï¼Ÿï¼Ÿï¼Ÿï¼Ÿçœ‹ä¸æ‡‚falseçš„æ„æ€å—ï¼Ÿï¼Ÿï¼Ÿï¼‰</span></h3>
            <h3 style="margin: 8px 0; font-size: 14px;" data-translate="5" data-color="red"><span style="font-weight: bold; color: red; margin: 5px 0; font-size: 14px;">æé†’: ç‚¹å‡»ä¿å­˜åè¯·ç«‹å³ç”Ÿæˆé…ç½®æ–‡ä»¶ï¼ï¼ï¼</span></h3>
            <h3 style="margin: 8px 0; font-size: 14px;" data-translate="6"><span style="font-weight: bold; color: black; margin: 5px 0; font-size: 14px;">ä¸ç„¶åˆ«äººä¹Ÿä¼šçœ‹åˆ°ä½ ä¿å­˜çš„ TEMP_JSON_DATA å†…å®¹</span></h3>
            <h3 style="margin: 8px 0; font-size: 14px;" data-translate="7" data-color="red"><span style="font-weight: bold; color: red; margin: 5px 0; font-size: 14px;">â€œè®¢é˜…åœ°å€â€æ˜¯ä»¥ "http://" å¼€å¤´çš„ã€åŒ…å«ã€‘èŠ‚ç‚¹ä¿¡æ¯çš„v2/clashé“¾æ¥æˆ–è€…æ˜¯ä»¥ "vmess://","hysteria2://"... ä¹‹ç±»å¼€å¤´çš„å•æ¡URIèŠ‚ç‚¹é“¾æ¥ï¼Œå¤šæ¡URIè¯·åœ¨æ¯æ¡æœ«å°¾æ·»åŠ æ¢è¡Œç¬¦ï¼š\n ä»£æ›¿æ¢è¡Œï¼ˆè¯·ä½ æ˜ç™½jsonå†™æ³•è§„èŒƒï¼‰ï¼Œä¹Ÿå¯ä»¥å¡«å†™base64å†…å®¹</span></h3>
            <h3 style="margin: 8px 0; font-size: 14px;" data-translate="8"><span style="font-weight: bold; color: black; margin: 5px 0; font-size: 14px;">æœºåœºæä¾›çš„è®¢é˜…é“¾æ¥èƒ½ç›´æ¥åœ¨æµè§ˆå™¨æ‰“å¼€ï¼Œè¿™è„šæœ¬å°±èƒ½ä½¿ç”¨ã€‚è¯·ä½ è‡ªè¡Œæ£€æŸ¥æ˜¯å¦å¯ä»¥ã€‚å¦‚æœæµè§ˆå™¨èƒ½æ‰“å¼€è®¢é˜…ï¼Œä½†è¿˜æ˜¯è½¬æ¢å¤±è´¥è¯·ä½ æ”¾å¼ƒä½¿ç”¨æ­¤é¡¹ç›®</span></h3>
            <h3 style="margin: 8px 0; font-size: 14px;" data-translate="9" data-color="red"><span style="font-weight: bold; color: red; margin: 5px 0; font-size: 14px;">éœ€è¦ç‰¹æ®Šç¯å¢ƒæ‰èƒ½æ‰“å¼€çš„è®¢é˜…é“¾æ¥ï¼Œè¯·ä½ åœ¨ TEMP_JSON_DATA ä¿®æ”¹ "User-Agent" æˆ–è€…å…ˆè¡ŒæŠŠæœºåœºè®¢é˜…é“¾æ¥å†…å®¹å¤åˆ¶åˆ°gisté‡Œï¼Œè„šæœ¬æ‰ä¼šè§£ææˆåŠŸã€‚æˆ–è€…æœ¬åœ°è¿è¡Œè„šæœ¬</span></h3>
            <h3 style="margin: 8px 0; font-size: 14px;" data-translate="10"><span style="font-weight: bold; color: black; margin: 5px 0; font-size: 14px;">å…¨éƒ¨éƒ½æ˜¯ SSR åè®®ä¼šæŠ¥é”™ï¼Œæˆ–è€…è¯·åˆ æ‰å·¦è¾¹æ–¹æ¡†å†… exclude_protocol å¼•å·é‡Œé¢çš„ ssr è¿™ä¸ªä¸‰ä¸ªå­—ç¬¦å³å¯ï¼ï¼ï¼ï¼ï¼ï¼</span></h3>
            <h3 style="margin: 8px 0; font-size: 14px;" data-translate="11" data-color="red"><span style="font-weight: bold; color: red; margin: 5px 0; font-size: 14px;">æœºåœºè®¢é˜…é‡Œæœ‰hy2æ–°åè®®ï¼Œè¯·ä¿®æ”¹ "User-Agent" ä¸ºï¼šclashmetaã€‚çƒçƒä½ äº†ï¼Œåˆ«å¡æ–‡ä»¶å¤§äº1MBçš„clashï¼Œä½ åªéœ€è¦ä¿ç•™proxieså­—æ®µï¼Œåˆ«å†™é‚£ç ´é¸¡å·´è§„åˆ™äº†ï¼ŒvercelæœåŠ¡å™¨è§£æè¶…æ—¶äº†æ‡‚å—è€å¼Ÿ</span></h3>
            <h3 style="margin: 8px 0; font-size: 14px;" data-translate="12"><span style="font-weight: bold; color: black; margin: 5px 0; font-size: 14px;">ä»¥ä¸Šä¸æ˜¯åºŸè¯ï¼Œæ²¡æˆåŠŸç”Ÿæˆé…ç½®è¯·ä½ ä»”ç»†é˜…è¯»ä»¥ä¸Šå†…å®¹</span></h3>
            <h3 style="margin: 8px 0; font-size: 14px;" data-translate="13" data-color="red"><span style="font-weight: bold; color: red; margin: 5px 0; font-size: 14px;">ä¸çœ‹è¯´æ˜çš„éƒ½æ˜¯å‚»é€¼ï¼Œè‡ªä»¥ä¸ºæ˜¯çš„å¤§èªæ˜</span></h3>
            <h3 style="margin: 8px 0; font-size: 14px;" data-translate="14"><span style="font-weight: bold; color: black; margin: 5px 0; font-size: 14px;">ç”Ÿæˆé…ç½®æˆåŠŸåè¯·ä¸è¦ç”¨ç¬¬ä¸‰æ–¹è¾“å…¥æ³•å¤åˆ¶å†…å®¹ï¼Œä¼šæœ‰é•¿åº¦é™åˆ¶å¤åˆ¶ä¸å…¨</span></h3>
            <h3 style="margin: 8px 0; font-size: 14px;"><span style="font-weight: bold; color: red; margin: 5px 0; font-size: 14px;">Má»™t sá»‘ Link Tiáº¿ng Viá»‡t khÃ´ng hoáº¡t Ä‘á»™ng vá»›i script nÃ y, vui lÃ²ng cháº¡y nÃ³ trÃªn local</span></h3>
            <h3 style="margin: 8px 0; font-size: 14px;"><a href="https://github.com/Toperlock/sing-box-subscribe/blob/main/instructions/README.md#-demonstration-video" target="_blank" rel="noopener noreferrer">Video hoáº¡t Ä‘á»™ng</a></h3>
            <h3 style="margin: 8px 0; font-size: 14px;"><a href="https://github.com/Toperlock/sing-box-subscribe/issues" target="_blank" rel="noopener noreferrer">é‡åˆ°é—®é¢˜è¯·å¼€issue</a></h3>
            <h3 style="margin: 8px 0; font-size: 14px;"><a href="https://github.com/Toperlock/sing-box-subscribe/issues" target="_blank" rel="noopener noreferrer">Please open an issue on github if you encounter problems.</a></h3>
            <pre id="config-text"></pre>
        </div>
    </div>
    <script>
        // const initialTempJsonData = '{"subscribes":[{"url":"URL","tag":"tag_1","enabled":true,"emoji":1,"subgroup":"","prefix":"","User-Agent":"v2rayng"},{"url":"URL","tag":"tag_2","enabled":false,"emoji":0,"subgroup":"å‘½å/named","prefix":"â¤ï¸","User-Agent":"clashmeta"}],"auto_set_outbounds_dns":{"proxy":"","direct":""},"save_config_path":"./config.json","auto_backup":false,"exclude_protocol":"ssr","config_template":"","Only-nodes":false}';
        const initialTempJsonData = '{"dns":{"servers":[{"tag":"dns_proxy","address":"https://1.1.1.1/dns-query","address_resolver":"dns_resolver","strategy":"ipv4_only","detour":"select"},{"tag":"dns_direct","address":"h3://dns.alidns.com/dns-query","address_resolver":"dns_resolver","strategy":"ipv4_only","detour":"direct"},{"tag":"dns_block","address":"rcode://refused"},{"tag":"dns_resolver","address":"223.5.5.5","strategy":"ipv4_only","detour":"direct"}],"rules":[{"outbound":"any","server":"dns_resolver"},{"clash_mode":"direct","server":"dns_direct"},{"clash_mode":"global","server":"dns_proxy"},{"process_name":["TencentMeeting","NemoDesktop","ToDesk","ToDesk_Service","WeChat","Tailscale","wireguard-go","Tunnelblick","softwareupdated","kubectl"],"server":"dns_direct"},{"domain_suffix":["icloudnative.io","fuckcloudnative.io","sealos.io","cdn.jsdelivr.us"],"server":"dns_direct"},{"process_name":["DropboxMacUpdate","Dropbox"],"server":"dns_proxy"},{"package_name":["com.google.android.youtube","com.android.vending","org.telegram.messenger","org.telegram.plus"],"server":"dns_proxy"},{"rule_set":"geosite-geolocation-!cn","server":"dns_proxy"},{"rule_set":"Global","server":"dns_proxy"},{"rule_set":["YouTube","Telegram","Netflix","geoip-google","geoip-telegram","geoip-twitter","geoip-netflix"],"server":"dns_proxy"}],"final":"dns_direct"},"ntp":{"enabled":true,"server":"time.apple.com","server_port":123,"interval":"30m0s","detour":"direct"},"inbounds":[{"type":"tun","inet4_address":"198.18.0.1/16","auto_route":true,"exclude_package":["cmb.pb","cn.gov.pbc.dcep","com.MobileTicket","com.adguard.android","com.ainemo.dragoon","com.alibaba.android.rimet","com.alicloud.databox","com.amazing.cloudisk.tv","com.autonavi.minimap","com.bilibili.app.in","com.bishua666.luxxx1","com.cainiao.wireless","com.chebada","com.chinamworld.main","com.cmbchina.ccd.pluto.cmbActivity","com.coolapk.market","com.ctrip.ct","com.dianping.v1","com.douban.frodo","com.eg.android.AlipayGphone","com.farplace.qingzhuo","com.hanweb.android.zhejiang.activity","com.leoao.fitness","com.lucinhu.bili_you","com.mikrotik.android.tikapp","com.moji.mjweather","com.motorola.cn.calendar","com.motorola.cn.lrhealth","com.netease.cloudmusic","com.sankuai.meituan","com.sina.weibo","com.smartisan.notes","com.sohu.inputmethod.sogou.moto","com.sonelli.juicessh","com.ss.android.article.news","com.ss.android.lark","com.ss.android.ugc.aweme","com.tailscale.ipn","com.taobao.idlefish","com.taobao.taobao","com.tencent.mm","com.tencent.mp","com.tencent.soter.soterserver","com.tencent.wemeet.app","com.tencent.weread","com.tencent.wework","com.ttxapps.wifiadb","com.unionpay","com.unnoo.quan","com.wireguard.android","com.xingin.xhs","com.xunmeng.pinduoduo","com.zui.zhealthy","ctrip.android.view","io.kubenav.kubenav","org.geekbang.geekTime","tv.danmaku.bili"],"stack":"mixed","sniff":true},{"type":"socks","tag":"socks-in","listen":"::","listen_port":5353}],"outbounds":[{"type":"selector","tag":"select","outbounds":["{all}"],"filter":[{"action":"exclude","keywords":["å®˜ç½‘|ç½‘ç«™|å‰©ä½™|æµé‡|è¿‡æœŸ|æ—¶é—´|æœŸ|åœ°å€"]}]},{"type":"selector","tag":"openai","outbounds":["{all}"],"filter":[{"action":"exclude","keywords":["ğŸ‡­ğŸ‡°|HK|hk|é¦™æ¸¯|æ¸¯|å®˜ç½‘|ç½‘ç«™|å‰©ä½™|æµé‡|è¿‡æœŸ|æ—¶é—´|æœŸ|åœ°å€"]}]},{"type":"selector","tag":"tiktok","outbounds":["{all}"],"filter":[{"action":"exclude","keywords":["å®˜ç½‘|ç½‘ç«™|å‰©ä½™|æµé‡|è¿‡æœŸ|æ—¶é—´|æœŸ|åœ°å€"]}]},{"type":"direct","tag":"direct"},{"type":"block","tag":"block"},{"type":"dns","tag":"dns-out"}],"route":{"rules":[{"protocol":"dns","outbound":"dns-out"},{"clash_mode":"direct","outbound":"direct"},{"clash_mode":"global","outbound":"select"},{"domain_suffix":["icloudnative.io","fuckcloudnative.io","sealos.io","cdn.jsdelivr.us"],"outbound":"direct"},{"process_name":["TencentMeeting","NemoDesktop","ToDesk","ToDesk_Service","WeChat","OpenLens","Tailscale","wireguard-go","Tunnelblick","softwareupdated","kubectl"],"outbound":"direct"},{"rule_set":["WeChat","Bilibili"],"outbound":"direct"},{"protocol":"quic","outbound":"block"},{"inbound":"socks-in","outbound":"select"},{"rule_set":"OpenAI","outbound":"openai"},{"domain_suffix":["openai.com","oaistatic.com","oaiusercontent.com"],"outbound":"openai"},{"package_name":"com.openai.chatgpt","outbound":"openai"},{"rule_set":"TikTok","outbound":"tiktok"},{"package_name":"com.zhiliaoapp.musically","outbound":"tiktok"},{"domain_suffix":["depay.one","orbstack.dev"],"outbound":"select"},{"process_name":["DropboxMacUpdate","Dropbox"],"outbound":"select"},{"package_name":["com.google.android.youtube","com.android.vending","org.telegram.messenger","org.telegram.plus","com.google.android.googlequicksearchbox","app.rvx.android.youtube","com.mudvod.video","com.fox2code.mmm","com.twitter.android"],"outbound":"select"},{"domain":"accounts.google.com","domain_suffix":["sourceforge.net","fhjasokiwq.com"],"outbound":"select"},{"domain_suffix":"cloud.sealos.io","outbound":"direct"},{"type":"logical","mode":"and","rules":[{"rule_set":"geosite-geolocation-!cn"},{"rule_set":"geoip-cn","invert":true}],"outbound":"select"},{"rule_set":"Global","outbound":"select"},{"rule_set":"geoip-cn","outbound":"direct"},{"ip_is_private":true,"outbound":"direct"},{"rule_set":["YouTube","Telegram","Netflix","geoip-google","geoip-telegram","geoip-twitter","geoip-netflix"],"outbound":"select"}],"rule_set":[{"type":"remote","tag":"geosite-geolocation-!cn","format":"binary","url":"https://mirror.ghproxy.com/https://raw.githubusercontent.com/SagerNet/sing-geosite/rule-set/geosite-geolocation-!cn.srs","download_detour":"direct"},{"type":"remote","tag":"geoip-cn","format":"binary","url":"https://mirror.ghproxy.com/https://raw.githubusercontent.com/CHIZI-0618/v2ray-rules-dat/release/singbox_ip_rule_set/geoip-cn.srs","download_detour":"direct"},{"type":"remote","tag":"geoip-google","format":"binary","url":"https://mirror.ghproxy.com/https://raw.githubusercontent.com/CHIZI-0618/v2ray-rules-dat/release/singbox_ip_rule_set/geoip-google.srs","download_detour":"direct"},{"type":"remote","tag":"geoip-telegram","format":"binary","url":"https://mirror.ghproxy.com/https://raw.githubusercontent.com/CHIZI-0618/v2ray-rules-dat/release/singbox_ip_rule_set/geoip-telegram.srs","download_detour":"direct"},{"type":"remote","tag":"geoip-twitter","format":"binary","url":"https://mirror.ghproxy.com/https://raw.githubusercontent.com/CHIZI-0618/v2ray-rules-dat/release/singbox_ip_rule_set/geoip-twitter.srs","download_detour":"direct"},{"type":"remote","tag":"geoip-netflix","format":"binary","url":"https://mirror.ghproxy.com/https://raw.githubusercontent.com/CHIZI-0618/v2ray-rules-dat/release/singbox_ip_rule_set/geoip-netflix.srs"ï¼Œ"download_detour":"direct"}ï¼Œ{"type":"remote","tag":"Global"ï¼Œ"format":"source"ï¼Œ"url":"https://mirror.ghproxy.com/https://raw.githubusercontent.com/yangchuansheng/sing-box-geosite/main/rule/Global.json"ï¼Œ"download_detour":"direct"}ï¼Œ{"type":"remote"ï¼Œ"tag":"YouTube"ï¼Œ"format":"source"ï¼Œ"url":"https://mirror.ghproxy.com/https://raw.githubusercontent.com/yangchuansheng/sing-box-geosite/main/rule/YouTube.json"ï¼Œ"download_detour":"direct"}ï¼Œ{"type":"remote"ï¼Œ"tag":"OpenAI"ï¼Œ"format":"source","url":"https://mirror.ghproxy.com/https://raw.githubusercontent.com/yangchuansheng/sing-box-geosite/main/rule/OpenAI.json"ï¼Œ"download_detour":"direct"}ï¼Œ{"type":"remote","tag":"TikTok","format":"source","url":"https://mirror.ghproxy.com/https://raw.githubusercontent.com/yangchuansheng/sing-box-geosite/main/rule/TikTok.json","download_detour":"direct"},{"type":"remote"ï¼Œ"tag":"Telegram","format":"source","url":"https://mirror.ghproxy.com/https://raw.githubusercontent.com/yangchuansheng/sing-box-geosite/main/rule/Telegram.json","download_detour":"direct"}ï¼Œ{"type":"remote"ï¼Œ"tag":"Netflix","format":"source"ï¼Œ"url":"https://mirror.ghproxy.com/https://raw.githubusercontent.com/yangchuansheng/sing-box-geosite/main/rule/Netflix.json"ï¼Œ"download_detour":"direct"},{"type":"remote","tag":"WeChat","format":"source","url":"https://mirror.ghproxy.com/https://raw.githubusercontent.com/yangchuansheng/sing-box-geosite/main/rule/WeChat.json","download_detour":"direct"},{"type":"remote","tag":"Bilibili"ï¼Œ"format":"source","url":"https://mirror.ghproxy.com/https://raw.githubusercontent.com/yangchuansheng/sing-box-geosite/main/rule/Bilibili.json"ï¼Œ"download_detour":"direct"}],"final":"direct","find_process":true,"auto_detect_interface":true},"experimental":{"cache_file":{"enabled":true},"clash_api":{"external_controller":"0.0.0.0:9090","external_ui":"metacubexd","external_ui_download_url":"https://github.com/MetaCubeX/metacubexd/archive/refs/heads/gh-pages.zip","external_ui_download_detour":"select","default_mode":"rule"}}}';
        let tempJsonData = initialTempJsonData;
        document.querySelector('#temp-json-form').addEventListener('submit', async (e) => {
            e.preventDefault();
            const form = e.target;
            const formData = new FormData(form);
            const response = await fetch(form.action, {
                method: form.method,
                body: formData,
            });
            if (response.ok) {
                const responseData = await response.text();
                const configContent = document.querySelector('#config-text');
                configContent.textContent = responseData
            }
        });
        const languageData = {
            "1": "2024-1-10: My vercel free plan Usage is almost used up by you. If you have a github account, please fork this project and use the subscription conversion website you built. Otherwise, I will decide to close this website.",
            "2": "Prerequisite: Fill in the subscription link correctly on this web page. The failure to generate the configuration is because someone else is generating the configuration at the same time, causing the content you filled in to be cleared. It is recommended to use the form /config/URL.",
            "3": "The 'groups_rule_set_tun.json' template is for sing-box 1.8.0+. Please use other templates for the old version of sing-box",
            "4": "Fill in the subscription link within the quotes '', and be careful not to have line breaks at the end of the subscription link, as this can be easily overlooked!!! (Why do you like to fill in URLs with enable set to false? why? ? ? ?)",
            "5": "Reminder: After clicking save, please immediately generate the configuration file!!!",
            "6": "Otherwise, others will be able to see the content of your saved TEMP_JSON_DATA.",
            "7": "The 'subscription link' starts with 'http://' and includes node information for v2/clash links or is a single URI node link starting with 'vmess://', 'hysteria2://'... etc. Link, if there are multiple URIs, please add a newline character at the end of each one: '\\n' instead of newline (please understand the json writing specification), you can also fill in the base64 content.",
            "8": "subscription links provided by Service can be directly opened in the browser, and the script can use them. Please check if it works on your end.",
            "9": "For subscription links that require a special environment to open, please modify 'User-Agent' in TEMP_JSON_DATA, or copy the content of the airport subscription link to gist in advance for the script to parse successfully. Alternatively, run the script locally.",
            "10": "All SSR protocols will report errors, or please delete the three characters 'ssr' in the exclude_protocol quotation marks in the left box.",
            "11": "If there is a new hy2 protocol in the sub link, please modify 'User-Agent' to: clashmeta. Damn it, donâ€™t plug in a crash with a file larger than 1MB. You only need to keep the proxies field. Donâ€™t write those crappy rules. The vercel server parsing timed out. Do you understand?",
            "12": "The above is not nonsense; if you fail to generate the configuration successfully, please read the above content carefully.",
            "13": "Because there is no database used, it will not return a configuration file link. After generating the configuration content, copy it to gist as a sing-box remote link.",
            "14": "After successfully generating the configuration, please do not use third-party input methods to copy the content, as there may be length limitations and the copy may not be complete.",
            "15": "Please open an issue on github if you encounter problems.",
            // æ·»åŠ å…¶ä»–ç¿»è¯‘...
        };
        let isEnglish = false; // åˆå§‹çŠ¶æ€ä¸ºä¸­æ–‡

        function toggleLanguage() {
            isEnglish = !isEnglish;
            const elementsToTranslate = document.querySelectorAll('[data-translate]');

            elementsToTranslate.forEach(element => {
                const key = element.getAttribute('data-translate');
                const originalColor = element.getAttribute('data-color');
                const originalLink = element.getAttribute('data-link');

                if (isEnglish && languageData[key]) {
                    if (element.tagName === 'A') {
                        element.href = languageData[key];
                    } else {
                        // å¤„ç† <span> å…ƒç´ 
                        const spanElement = element.querySelector('span');
                        if (spanElement) {
                            spanElement.textContent = languageData[key];
                            spanElement.style.color = originalColor;
                            spanElement.setAttribute('data-link', languageData[key]);
                        } else {
                            element.textContent = languageData[key];
                            element.style.color = originalColor;
                        }
                    }
                } else {
                    if (element.tagName === 'A') {
                        element.href = originalLink;
                    } else {
                    // å¦‚æœéœ€è¦ï¼Œå¯ä»¥æ·»åŠ å…¶ä»–è¯­è¨€çš„æ”¯æŒ
                        window.location.reload();
                    }
                }
            });
        }
    </script>
    {% with messages = get_flashed_messages() %}
        {% if messages %}
            <ul class="flashes">
                {% for message in messages %}
                    <li>{{ message }}</li>
                {% endfor %}
            </ul>
        {% endif %}
    {% endwith %}
</body>
</html>
